<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>👤 개인 페이지 - 상명대 K동 헬스장</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="mypage.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
  </head>
  <body>
    <header>
      <a href="main.html" class="header-link">
        <h1>상명대 K동 헬스장</h1>
      </a>
    </header>

    <nav>
      <ul>
        <li><a href="introduce.html">센터 소개</a></li>
        <li><a href="notice.html">공지 사항</a></li>
        <li><a href="exercise.html">운동 안내</a></li>
        <li><a href="mypage.html" class="active">개인 페이지</a></li>
        <li><a href="contact.html">고객 센터</a></li>
      </ul>
    </nav>

    <main id="mypage-main">
      <h2>마이 페이지</h2>
      <p class="description-text">
        회원님의 이용권 정보와 개인 정보를 확인하고 수정할 수 있습니다.
      </p>

      <section class="mypage-section membership-section">
        <h3>🥇 이용권 정보</h3>
        <div class="info-card membership-info">
          <div class="info-item">
            <i class="fas fa-ticket-alt icon"></i>
            <h4>이용권 종류</h4>
            <p id="membership-type">3개월 이용권</p>
          </div>
          <div class="info-item">
            <i class="fas fa-calendar-alt icon"></i>
            <h4>이용 기간</h4>
            <p id="membership-period">2025-03-01 ~ 2025-05-30</p>
          </div>
          <div class="info-item">
            <i class="fas fa-check-circle icon"></i>
            <h4>상태</h4>
            <p class="status-active">이용 중</p>
          </div>
          <button
            type="button"
            id="logout-btn"
            class="action-btn danger-btn logout-btn"
          >
            <i class="fas fa-sign-out-alt"></i> 로그아웃
          </button>
        </div>
      </section>

      <section class="mypage-section profile-section">
        <h3>📝 개인 정보</h3>
        <form id="profile-form" class="info-card profile-form">
          <div class="profile-photo-area">
            <img
              src="https://placehold.co/120x120/007bff/white?text=User"
              alt="프로필 사진"
              id="profile-image"
              class="profile-image"
            />
            <button
              type="button"
              id="change-photo-btn"
              class="action-btn small-btn primary-btn"
              style="display: none"
            >
              사진 변경 (Mock)
            </button>
          </div>

          <div class="input-area">
            <label for="user-id">ID (학번/교번)</label>
            <input type="text" id="user-id" name="userId" readonly />

            <label for="user-name">이름</label>
            <input type="text" id="user-name" name="userName" readonly />

            <label for="user-phone">연락처</label>
            <input type="tel" id="user-phone" name="userPhone" readonly />

            <label for="user-email">이메일</label>
            <input type="email" id="user-email" name="userEmail" readonly />
          </div>

          <div class="button-group">
            <button type="button" id="edit-btn" class="action-btn primary-btn">
              수정
            </button>
            <button
              type="submit"
              id="save-btn"
              class="action-btn success-btn"
              style="display: none"
            >
              저장
            </button>
            <button
              type="button"
              id="cancel-btn"
              class="action-btn danger-btn"
              style="display: none"
            >
              취소
            </button>
          </div>
        </form>
      </section>

      <section class="mypage-section workout-stats-section">
        <h3>📊 주간 운동 통계 (Placeholder)</h3>
        <div class="info-card stats-placeholder">
          <p>
            초기 버전에서는 통계 기능을 준비 중입니다.
            <br />
            (JS에서 동적으로 그래프 또는 리스트가 표시될 예정)
          </p>
          <div class="placeholder-icon">
            <i class="fas fa-chart-line"></i>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <p>&copy; 2025 상명대 K동 헬스장. All rights reserved.</p>
    </footer>

    <script src="mypage.js"></script>
    <script>
      // 로그아웃 버튼 이벤트 리스너 추가
      document.addEventListener('DOMContentLoaded', () => {
        const logoutBtn = document.getElementById('logout-btn');
        if (logoutBtn) {
          logoutBtn.addEventListener('click', () => {
            // 로그인 상태를 'false'로 설정
            localStorage.setItem('isLoggedIn', 'false');
            // 'mypageUserData'도 초기화 또는 삭제 (선택 사항, 여기서는 삭제)
            localStorage.removeItem('mypageUserData');
            alert('로그아웃 되었습니다.');
            // 메인 페이지로 이동 또는 로그인 페이지로 이동
            window.location.href = 'main.html';
          });
        }
      });
    </script>
  </body>
</html>
